Simulate binary search to get number of positions where numbers must be greater than/smaller than $$x$$.  Then it's just combinatorics.  
