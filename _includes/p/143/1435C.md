Create $$(dist, noteIdx)$$ array.  Sort lexicographically.  Now, among all subsequences containing all the notes (i.e. $$\sum_{i \in [l, r]} A[i].noteIdx = {1, .. n}$$) we want to pick the one where cost (i.e. $$A[r].dist - A[l].dist$$) is minimal.  
