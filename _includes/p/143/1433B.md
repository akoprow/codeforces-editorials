It's fairly easy to observe that optimal strategy is to start from most outward books and move them towards others making the clusters of books being moved larger until finally connecting all of them.  It's not difficult to see that the number of moves is the total number of empty shelves from first to last book.
