The solution is to cast Void Absorptions spells for as long as we have them and they decrease the hit points and only then cast Lighting Strikes; or, simply check if remaining $$h \le m*10$$.

Why is that?  Well, suppose to the contrary that the optimal sequence of spells is not of that shape.  That means that at some point there must be a Lighting Strike followed by Void Absorption, which will decrease health from $$x$$ to $$\lfloor \frac{x-10}{2} \rfloor + 10$$ which is $$\lfloor \frac{x}{2} + 5 \rfloor$$. But if we swapped them then we'd get the hit points down to $$\lfloor \frac{x}{2} \rfloor$$, which is smaller.
