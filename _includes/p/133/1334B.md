Firstly, it doesn't pay off to do more than one reform.  Each reform keeps the sum of all the money equal and since we aim at everyone having at least $$x$$ the best strategy is to just do one big reform among a group of people whose average is at least $$x$$.
How many people can we make wealthy?  We can try all options in the range $$[0, n]$$.  For a given $$r$$ it's easy to see that we should take the $$r$$ richest people and do a single reform among them.  So we can just sort the array $$a$$ in decreasing order and then find largest $$r$$ such that $$(a_1 + \ldots + a_r) / r \ge x$$, or, in other words, the sum on that prefix is at least $$rx$$.  We can easily do that by sweeping over the array and keeping running sum.
