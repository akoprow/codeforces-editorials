We can see that the nonsense with arrows essentially means that each number can move an even number of positions. So we can count for all letters how many times they occur on even positions in: a) the original array, b) the sorted array.  If those two numbers are equal then we can go from one to the other; otherwise, we cannot.  So the answer is "YES" iff. the multisets obtained from numbers at even positions in original and sorted arrays are equal.
