Crucial observation is that $$v \ge 1.0$$, which means that after every move the probability for the pink slip increases by at least $$0.05$$ and so there will be at most $$21$$ draws and we can brute force the process for a $$O(2^21)$$ solution without any memoization at all.

As to precision problems we need to be careful when comparing doubles.  We can either use $$\epsilon$$ in comparisons or convert everything to longs.  For the latter notice that there are at most four digits after the dot so we can just multiply everything by $$10,000$$ and then again by $$2^{20}$$ to ensure we have enough precision for divisions by two that we might have to perform at every step.
