The game ends when all numbers in the array are equal; what will their value be?  It's not difficult to see that it will be $$g = gcd(a_0, \ldots, a_{n-1})$$.  We can also see that solving the problem for the numbers divided by $$g$$ will not change the number of steps in the process, but ensures that at the end all numbers equal $$1$$.

Now, how many steps will this process take?  It will take at least $$k$$ steps only if there are some $$k$$ consecutive entries which are all divisible by some $$p > 1$$.  So what remains to be done is to factorize all $$a_0, \ldots, a_{n-1}$$ and build a map from prime factors to a set of indices that contain it.  Then we go over all such prime factors and for each find the longest segment that has it.  The only tricky bit is that we need to take the circularity into account. One way of doing that is to start with an arbitrary index present in the set and then try to extend it both to the left and to the right as much as possible (including wrapping from $$0$$ to $$n-1$$), at the same time removing those entries from the set.
