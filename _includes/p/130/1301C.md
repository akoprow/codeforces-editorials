{% include exercise.md name="Ayoub's function" id="1301C" labels="`binary search` `combinatorics` `greedy` `math` `strings`" rating=1700 code="r600-619/r619/1301c-ayoubs-function.kt" %}

First observe that greedy works in the sense that it's best to spread $$1$$s as evenly as possible throughout the string.  Next observe that the answer for a given string is $$n_* - n_0$$ where $$n_*$$ is the number of all subsequences and $$n_0$$ is the number of subsequences with only $$0$$s.  Clearly $$n_* = \frac{n (n+1)}{2}$$, for a given block of $$0$$s of length $$k$$ the number of "only-zero" subsequences is $$\frac{k (k+1)}{2}$$ and $$n_0$$ is sum over all such block.  Putting it all together this can actually be solved in $$O(1)$$.
