We will solve it in two steps.  Firstly we just compute possible transitions without caring via which number we reach them.  For that we will have $$D_{i, c}$$ be $$true/false$$ depending on whether we can obtain *some* number from the first $$i$$ indices at a total cost of $$c$$.  We kickstart the process with $$D_{0,0} = true$$ and set $$D_{i+1,c+d} = true$$ iff $$D_{i,c} = true$$ and we can turn index $$i+1$$ into some digit at a cost of $$d$$.

Once we have that if $$D_{n,k} = false$$ we answer $$-1$$.  Otherwise, we need to reconstruct the answer.  To do that we go from left to right and greedily choose the largest possible target digit we can, such that we will be able to turn it into a total solution, as per $$D$$.  By choosing largest digit we can at each step we guarantee that the final score will be as high as possible.
