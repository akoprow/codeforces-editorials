Simple DP: go from right to left and compute $$S_i$$, i.e. score we'll get starting at $$i$$.  For each position that score equals $$a_i + S_{i + a_i}$$ provided that $$i + a_i \le n$$ or just $$a_i$$ otherwise.
