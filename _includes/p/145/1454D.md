Factorize the number, $$n = f_1^{p_1} f_2^{p_2} \ldots f_k^{p_k}$$, pick the maximal $$p_i$$ and the answer is simply $$p_i-1$$ copies of $$f_i$$ followed by $$n / f_i^{p_i-1}$$
