Note that the tricky bit is the corners.  Imagine we knew what's in every corner.  Then the problem is easy as for every border we have $$n-2$$ slots excluding corners and so the number of blocks we need to place there $$v$$, which is the original constrain from the problem minus $$0$$, $$1$$, or $$2$$ depending how many blocks are already in the two relevant corners, must be $$0 \le v \le n-2$$.

So now we can just try all the combinations for corners (filled/unfilled) since there are only $$2^4 = 16$$ and apply the reasoning from above and clearly we have an answer overall if we have an answer for any of the configurations.
