Let's start by computing all the points where the disk might stop in a single round, i.e. pairs $$(p_i, v_i)$$ point on disk $$1 \le p \le n$$ and $$v_i = \sum_{i \le p} a_i$$.  Note that those points will form an increasing sequence as if we had $$x$$ followed by $$y$$ and $$y < x$$ then it we were to stop at $$y$$ we'd have stopped instead at $$x$$ before.  Once we have that for a single query we have few cases

- $$x \le v_t$$ assuming we have $$t$$ pairs of possible stopping points.  In this case the disk will stop within the first spin and we can find the point where it stops with binary search.
- $$x > v_t$$ and $$\sum_{i \in 1..n} a_i \le 0$$, which means we won't reach the right point within the first spin and with every spin $$x$$ is not increasing so it will never stop.
- Otherwise, we compute how many full spins we need to get to $$x \le v_t$$ (i.e. first case above).  So we know by how much we need to decrease $$x$$ and hence how many full spins are required.  After that we're back in the first case above.
