Clearly at each point we want to split the deck so that we get the largest card first.  So at each point we need to find the index of the remaining max.  One way to do it is to have a sorted map from values to their indices.  We always operate on a segment of the deck of the form $$[1, r]$$ ($$1$$-based indexing for indices) with initially $$r = n$$.  After finding that maximum is at index $$p$$ we go from $$p$$ to $$r$$, add those cards to the answer and remove from our map with indices.
