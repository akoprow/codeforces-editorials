Let's say we fixed positions of $$0$$s and all the rest must be different than $$0$$.  The crucial observation is that everything else is uniquely determined.  One way to see that is to visualize a BFS starting from all the $$0$$s at once and by so doing assigning to every cell its closest distance to some $$0$$.  If we do that clearly all values only move by $$1$$.  And indeed positive values have something smaller than them, namely, the cell on the path to the closest $$0$$.

So the only choice we have is for every cell with "#" whether to turn it into a $$0$$ or not, hence the answer is $$2^\mathcal{Q}$$, where $$\mathcal{Q}$$ is the number of cells with "#".  The only edge case is when all the cells have "#", in which case we need to subtract $$1$$ from the answer as there must be at least one cell with $$0$$ (to "bootstrap" our BFS).
