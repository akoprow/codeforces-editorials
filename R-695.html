<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no"">
  <meta name="generator" content="Jekyll">

  <title>Round 695 (Div II)</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>

  <link rel="stylesheet" href="/codeforces-editorials/css/main.css">

  <link href="/codeforces-editorials/atom.xml" type="application/atom+xml" rel="alternate" title="ATOM Feed" /> <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Round 695 (Div II) | Codeforces editorials</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Round 695 (Div II)" />
<meta name="author" content="Adam Koprowski" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Codeforces Round #695 (Div. 2)" />
<meta property="og:description" content="Codeforces Round #695 (Div. 2)" />
<meta property="og:site_name" content="Codeforces editorials" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-01-08T00:00:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Round 695 (Div II)" />
<script type="application/ld+json">
{"@type":"BlogPosting","headline":"Round 695 (Div II)","dateModified":"2021-01-08T00:00:00+00:00","url":"/codeforces-editorials/R-695","datePublished":"2021-01-08T00:00:00+00:00","mainEntityOfPage":{"@type":"WebPage","@id":"/codeforces-editorials/R-695"},"author":{"@type":"Person","name":"Adam Koprowski"},"description":"Codeforces Round #695 (Div. 2)","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]},
    extensions: [
      "MathMenu.js",
      "MathZoom.js",
      "AssistiveMML.js",
      "a11y/accessibility-menu.js"
    ],
    jax: ["input/TeX", "output/CommonHTML"],
    TeX: {
      extensions: [
        "AMSmath.js",
        "AMSsymbols.js",
        "noErrors.js",
        "noUndefined.js",
      ]
    }
  });
  </script>
  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML">
  </script>

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-SHM3SPE7F9"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-SHM3SPE7F9');
  </script>
</head>


<body>
  <div id="wrapper">
    <header>
  <div>
    <a href="/codeforces-editorials/">
    
    <h1>adam@home:~$</h1>
    </a>
    <div class="header-links">
      <a href="/codeforces-editorials/"><h2 class="header-link">Contests</h2></a>
<a href="/codeforces-editorials/problems"><h2 class="header-link">Problems</h2></a>

    </div>
  </div>
</header>
    <div class="container">
      <section id="main_content">
        <article>
  <h2>Round 695 (Div II)</h2>
  <time datetime="2021-01-08T00:00:00+00:00" class="by-line">08 Jan 2021</time>
  <p><a href="https://codeforces.com/contest/1467">Codeforces Round #695 (Div. 2)</a></p>

<div class="alert alert-primary" role="alert">
  
  <tiny>1467</tiny>A

  
  <a href="/codeforces-editorials/problems/1467a/">
    Wizard of Orz
  </a>
  <a href="https://codeforces.com/contest/1467/problem/A">
  [CF]
  </a>

  <a href="https://github.com/akoprow/competetive-programming/blob/master/src/codeforces/r680-699/r695/1467a-wizard-of-orz.kt">(Code)</a>

  <rating>R:900 <meter min="800" max="3600" value="900" /></rating>

  <labels>
  
  
    <span class="badge rounded-pill bg-warning text-dark">constructive algorithms</span>
  
    <span class="badge rounded-pill bg-warning text-dark">greedy</span>
  
    <span class="badge rounded-pill bg-warning text-dark">math</span>
  
  </labels>
</div>

<p>With just a single panel we clearly pause it so that it shows \(9\).  Otherwise we pause the second panel when it shows \(8\), so that we get a prefix of \(9890123456\ldots\).</p>

<div class="alert alert-primary" role="alert">
  
  <tiny>1467</tiny>B

  
  <a href="/codeforces-editorials/problems/1467b/">
    Hills And Valleys
  </a>
  <a href="https://codeforces.com/contest/1467/problem/B">
  [CF]
  </a>

  <a href="https://github.com/akoprow/competetive-programming/blob/master/src/codeforces/r680-699/r695/1467b-hills-and-valleys.kt">(Code)</a>

  <rating>R:1700 <meter min="800" max="3600" value="1700" /></rating>

  <labels>
  
  
    <span class="badge rounded-pill bg-warning text-dark">brute force</span>
  
    <span class="badge rounded-pill bg-warning text-dark">implementation</span>
  
  </labels>
</div>

<p>First observation is that changes are very local, changing \(a_i\) might change hill/valley status of elements at positions \(i-1, i, i+1\) only.</p>

<p>Secondly, it’s always optimal to change \(a_i\) to either \(a_{i-1}\) or \(a_{i+1}\). To see that assume that we picked \(x\) to minimize the number of hills/valleys in \(a_{i-1}, x, a_{i+1}\).  We have two options:</p>

<ul>
  <li>if \(x &lt; max(a_{i-1}, a_{i+1})\) then we can change \(x\) to be \(min(a_{i-1}, a_{i+1})\), which ensures that there’s no peak/valley at that position.</li>
  <li>or \(x &gt; min(a_{i-1}, a_{i+1})\) in which case we change it to \(max(a_{i-1}, a_{i+1})\), again ensuring it does not form a peak/valley.</li>
</ul>

<p>Once we know all that it’s enough to compute the number of peaks/valleys in the original configuration and then try all those local modifications, efficiently compute updated score and pick the minimal one.</p>

<div class="alert alert-primary" role="alert">
  
  <tiny>1467</tiny>C

  
  <a href="/codeforces-editorials/problems/1467c/">
    Three Bags
  </a>
  <a href="https://codeforces.com/contest/1467/problem/C">
  [CF]
  </a>

  <a href="https://github.com/akoprow/competetive-programming/blob/master/src/codeforces/r680-699/r695/1467c-three-bags.kt">(Code)</a>

  <rating>R:1900 <meter min="800" max="3600" value="1900" /></rating>

  <labels>
  
  
    <span class="badge rounded-pill bg-warning text-dark">constructive algorithms</span>
  
    <span class="badge rounded-pill bg-warning text-dark">greedy</span>
  
  </labels>
</div>

<p>Think of the operations as a rooted tree.  Nodes are the numbers in the bags. The root is the final number.  A directed edge from one number to the other indicates that we merge those numbers.  Each edge must necessarily connect nodes from different bags.</p>

<p>What’s the total score?  With each layer of the tree we subtract numbers, so we actually end up switch between subtracting/adding them layer by layer.  That means that the final score is the sum of all elements at odd layers minus the sum of all layers at even layers.  So our goal is to put as little as possible into odd layers.</p>

<p>A picture is worth a thousand words and the notes have two pictures of the optimal configurations but it comes down to either of those two options, where we manage to pack everything into odd layers except for:</p>

<ul>
  <li>one element from one bag and one element from a <em>different</em> bag or</li>
  <li>all elements from a single bag (split between two layers)</li>
</ul>

<p>Once we know all that it’s very easy to compute those options and pick a better one.</p>

<div class="alert alert-primary" role="alert">
  
  <tiny>1467</tiny>D

  
  <a href="/codeforces-editorials/problems/1467d/">
    Sum of Paths
  </a>
  <a href="https://codeforces.com/contest/1467/problem/D">
  [CF]
  </a>

  

  <rating>R:2200 <meter min="800" max="3600" value="2200" /></rating>

  <labels>
  
  
    <span class="badge rounded-pill bg-warning text-dark">combinatorics</span>
  
    <span class="badge rounded-pill bg-warning text-dark">dp</span>
  
    <span class="badge rounded-pill bg-warning text-dark">math</span>
  
  </labels>
</div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>TODO
</code></pre></div></div>

<div class="alert alert-primary" role="alert">
  
  <tiny>1467</tiny>E

  
  <a href="/codeforces-editorials/problems/1467e/">
    Distinctive Roots in a Tree
  </a>
  <a href="https://codeforces.com/contest/1467/problem/E">
  [CF]
  </a>

  

  <rating>R:2500 <meter min="800" max="3600" value="2500" /></rating>

  <labels>
  
  
    <span class="badge rounded-pill bg-warning text-dark">data structures</span>
  
    <span class="badge rounded-pill bg-warning text-dark">dfs and similar</span>
  
    <span class="badge rounded-pill bg-warning text-dark">dp</span>
  
    <span class="badge rounded-pill bg-warning text-dark">trees</span>
  
  </labels>
</div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>TODO
</code></pre></div></div>

<hr />

<object data="notes/R-695.pdf" width="1000" height="1000" type="application/pdf" />


</article>
      </section>
    </div>
  </div>

   <footer>
  <a href="https://creativecommons.org/licenses/by-nc/3.0/deed.en_US">
    <span>
        <b>Adam Koprowski</b>
    </span>
    
    <span>© 2021</span>
  </a>
</footer>

  
</body>

</html>
