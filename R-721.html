<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no"">
  <meta name="generator" content="Jekyll">

  <title>Round 721 (Div. I+II)</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>

  <link rel="stylesheet" href="/codeforces-editorials/css/main.css">

  <link href="/codeforces-editorials/atom.xml" type="application/atom+xml" rel="alternate" title="ATOM Feed" /> <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Round 721 (Div. I+II) | Codeforces editorials</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Round 721 (Div. I+II)" />
<meta name="author" content="Adam Koprowski" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Codeforces Round #721 (Div. 2)" />
<meta property="og:description" content="Codeforces Round #721 (Div. 2)" />
<meta property="og:site_name" content="Codeforces editorials" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-05-20T00:00:00+01:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Round 721 (Div. I+II)" />
<script type="application/ld+json">
{"@type":"BlogPosting","url":"/codeforces-editorials/R-721","headline":"Round 721 (Div. I+II)","dateModified":"2021-05-20T00:00:00+01:00","datePublished":"2021-05-20T00:00:00+01:00","mainEntityOfPage":{"@type":"WebPage","@id":"/codeforces-editorials/R-721"},"author":{"@type":"Person","name":"Adam Koprowski"},"description":"Codeforces Round #721 (Div. 2)","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]},
    extensions: [
      "MathMenu.js",
      "MathZoom.js",
      "AssistiveMML.js",
      "a11y/accessibility-menu.js"
    ],
    jax: ["input/TeX", "output/CommonHTML"],
    TeX: {
      extensions: [
        "AMSmath.js",
        "AMSsymbols.js",
        "noErrors.js",
        "noUndefined.js",
      ]
    }
  });
  </script>
  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML">
  </script>

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-SHM3SPE7F9"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-SHM3SPE7F9');
  </script>
</head>


<body>
  <div id="wrapper">
    <header>
  <div>
    <a href="/codeforces-editorials/">
    
    <h1>adam@home:~$</h1>
    </a>
    <div class="header-links">
      <a href="/codeforces-editorials/"><h2 class="header-link">Contests</h2></a>
<a href="/codeforces-editorials/problems"><h2 class="header-link">Problems</h2></a>
<a href="/codeforces-editorials/todo"><h2 class="header-link">TODO</h2></a>

    </div>
  </div>
</header>
    <div class="container">
      <section id="main_content">
        <article>
  <h2>Round 721 (Div. I+II)</h2>
  <time datetime="2021-05-20T00:00:00+01:00" class="by-line">20 May 2021</time>
  <p><a href="https://codeforces.com/contest/1527">Codeforces Round #721 (Div. 2)</a></p>

<div class="alert alert-primary" role="alert">
  
  <tiny>1527</tiny>A

  
  <a href="/codeforces-editorials/problems/1527a/">
    And Then There Were K
  </a>
  <a href="https://codeforces.com/contest/1527/problem/A">
  [CF]
  </a>

  <a href="https://github.com/akoprow/competetive-programming/blob/master/src/codeforces/r720-739/r721/1527a-and-then-there-were-k.kt">(Code)</a>

  <rating>R:800 <meter min="800" max="3600" value="800" /></rating>

  <labels>
  
  
    <span class="badge rounded-pill bg-warning text-dark">bitmasks</span>
  
  </labels>
</div>

<p>Let’s take the highest set bit in \(n\), suppose it is \(2^k\).  Now, clearly \((2^k) \&amp; (2^k-1) = 0\) as the former only has the \(k\)-th bit set and the latter has all the lower bits but not the \(k\)-th one.  So \(2^k-1\) is an answer.  It’s easy to see that there is not a better one since all numbers from \(2^k\) up to \(n\) have the \(k\)-th bit set.</p>

<div class="alert alert-primary" role="alert">
  
  <tiny>1527</tiny>B1

  
  <a href="/codeforces-editorials/problems/1527b1/">
    Palindrome Game (easy version)
  </a>
  <a href="https://codeforces.com/contest/1527/problem/B1">
  [CF]
  </a>

  <a href="https://github.com/akoprow/competetive-programming/blob/master/src/codeforces/codeforces/r720-739/r721/1527b1-palindrome-game-easy.kt">(Code)</a>

  <rating>R:1200 <meter min="800" max="3600" value="1200" /></rating>

  <labels>
  
  
    <span class="badge rounded-pill bg-warning text-dark">constructive algorithms</span>
  
    <span class="badge rounded-pill bg-warning text-dark">games</span>
  
  </labels>
</div>

<p>Firstly, let’s assume that the palindrome has an even length.  Then Bob wins.  This is because initially string is a palindrome so Alice needs to turn some \(0\) into \(1\) and Bob can:</p>

<ul>
  <li>If there is more than one \(0\) left he mimics this move at the corresponding position in the palindrome.  This again gives a palindrome to Alice in her next move.</li>
  <li>If there is only one \(0\) he can reverse the palindrome and so Alice will be forced in the next move to remove the remaining \(0\) and lose by at least \(2\$\)</li>
</ul>

<p>What if the initial palindrome has an odd length?  If the character in the middle is \(1\) then it does not change anything.  If it’s a zero then Alice can turn it into \(1\) and win as now Bob is given the starting position equivalent to that for even-length scenario described above.</p>

<p>Note that those conditions can be simplified as: Bob wins if there is an even number of zeroes whereas Alice wins if there is an odd number.</p>

<div class="alert alert-primary" role="alert">
  
  <tiny>1527</tiny>B2

  
  <a href="/codeforces-editorials/problems/1527b2/">
    Palindrome Game (hard version)
  </a>
  <a href="https://codeforces.com/contest/1527/problem/B2">
  [CF]
  </a>

  <a href="https://github.com/akoprow/competetive-programming/blob/master/src/codeforces/r720-739/r721/1527b2-palindrome-game-hard.kt">(Code)</a>

  <rating>R:1900 <meter min="800" max="3600" value="1900" /></rating>

  <labels>
  
  
    <span class="badge rounded-pill bg-warning text-dark">constructive algorithms</span>
  
    <span class="badge rounded-pill bg-warning text-dark">games</span>
  
  </labels>
</div>

<p>We covered in <code class="language-plaintext highlighter-rouge">B1</code> the case when the string is a palindrome.  If it is not then Alice almost always wins as she can:</p>

<ul>
  <li>revert the string, unless</li>
  <li>the string is one step away from becoming a palindrome with an even number of zeroes.  In that case she makes it so and we’re back to a palindrome case, in which Alice wins by at least \(2\$\) and she paid \(1\$\) in this steps so she still wins.</li>
</ul>

<p>The only scenario that leads to a draw is if the string has \(2\) zeroes and one of them is in the middle as in this case they will both pay \(1\$\) when played optimally:</p>

<ul>
  <li>If Alice takes the non-middle \(0\), Bob needs to take the middle.</li>
  <li>If Alice reverts the string then Bob takes the non-middle \(0\) and Alice needs to take the middle one.</li>
  <li>If Alice take the middle \(0\) then Bob reverts and Alice lost so she will not do that.</li>
</ul>

<div class="alert alert-primary" role="alert">
  
  <tiny>1527</tiny>C

  
  <a href="/codeforces-editorials/problems/1527c/">
    Sequence Pair Weight
  </a>
  <a href="https://codeforces.com/contest/1527/problem/C">
  [CF]
  </a>

  <a href="https://github.com/akoprow/competetive-programming/blob/master/src/codeforces/r720-739/r721/1527c-sequence-pair-weight.kt">(Code)</a>

  <rating>R:1600 <meter min="800" max="3600" value="1600" /></rating>

  <labels>
  
  
    <span class="badge rounded-pill bg-warning text-dark">hashing</span>
  
    <span class="badge rounded-pill bg-warning text-dark">implementation</span>
  
    <span class="badge rounded-pill bg-warning text-dark">math</span>
  
  </labels>
</div>

<p>Let’s look at all the contributions of all segments ending at character \(i\).  They can be classified as:</p>

<ul>
  <li>All the contributions ending at character \(i-1\) (we extend those by 1 letter to the right but not yet count the pairs matched with character \(i\)).</li>
  <li>Suppose we have another occurrence of the same element at index \(j\) (\(j &lt; i\)), how much will this pair contribute?  Well, \(j\), as it will be included in subsegments \([1, i], [2, i], \ldots [j, i]\).  So overall we get \(j_1 + \ldots + j_n\) where \(j_1, \ldots, j_n\) are indices of previous occurrences of the element at position \(i\).  We can easily keep track of that by having a map from element to the prefix sum of its indices seen so far.</li>
</ul>

<div class="alert alert-primary" role="alert">
  
  <tiny>1527</tiny>D

  
  <a href="/codeforces-editorials/problems/1527d/">
    MEX Tree
  </a>
  <a href="https://codeforces.com/contest/1527/problem/D">
  [CF]
  </a>

  

  <rating>R:2400 <meter min="800" max="3600" value="2400" /></rating>

  <labels>
  
  
    <span class="badge rounded-pill bg-warning text-dark">combinatorics</span>
  
    <span class="badge rounded-pill bg-warning text-dark">dfs and similar</span>
  
    <span class="badge rounded-pill bg-warning text-dark">implementation</span>
  
    <span class="badge rounded-pill bg-warning text-dark">math</span>
  
    <span class="badge rounded-pill bg-warning text-dark">trees</span>
  
  </labels>
</div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>TODO
</code></pre></div></div>

<div class="alert alert-primary" role="alert">
  
  <tiny>1527</tiny>E

  
  <a href="/codeforces-editorials/problems/1527e/">
    Partition Game
  </a>
  <a href="https://codeforces.com/contest/1527/problem/E">
  [CF]
  </a>

  

  <rating>R:2500 <meter min="800" max="3600" value="2500" /></rating>

  <labels>
  
  
    <span class="badge rounded-pill bg-warning text-dark">binary search</span>
  
    <span class="badge rounded-pill bg-warning text-dark">data structures</span>
  
    <span class="badge rounded-pill bg-warning text-dark">divide and conquer</span>
  
    <span class="badge rounded-pill bg-warning text-dark">dp</span>
  
  </labels>
</div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>TODO
</code></pre></div></div>

<hr />

<object data="notes/R-721.pdf" width="1000" height="1000" type="application/pdf" />


</article>
      </section>
    </div>
  </div>

   <footer>
  <a href="https://creativecommons.org/licenses/by-nc/3.0/deed.en_US">
    <span>
        <b>Adam Koprowski</b>
    </span>
    
    <span>© 2021</span>
  </a>
</footer>

  
</body>

</html>
