<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no"">
  <meta name="generator" content="Jekyll">

  <title>Round 699 (Div II)</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>

  <link rel="stylesheet" href="/codeforces-editorials/css/main.css">

  <link href="/codeforces-editorials/atom.xml" type="application/atom+xml" rel="alternate" title="ATOM Feed" /> <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Round 699 (Div II) | Codeforces editorials</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Round 699 (Div II)" />
<meta name="author" content="Adam Koprowski" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Codeforces Round #699 (Div. 2)" />
<meta property="og:description" content="Codeforces Round #699 (Div. 2)" />
<meta property="og:site_name" content="Codeforces editorials" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-02-05T00:00:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Round 699 (Div II)" />
<script type="application/ld+json">
{"@type":"BlogPosting","headline":"Round 699 (Div II)","dateModified":"2021-02-05T00:00:00+00:00","url":"/codeforces-editorials/R-699","datePublished":"2021-02-05T00:00:00+00:00","mainEntityOfPage":{"@type":"WebPage","@id":"/codeforces-editorials/R-699"},"author":{"@type":"Person","name":"Adam Koprowski"},"description":"Codeforces Round #699 (Div. 2)","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]},
    extensions: [
      "MathMenu.js",
      "MathZoom.js",
      "AssistiveMML.js",
      "a11y/accessibility-menu.js"
    ],
    jax: ["input/TeX", "output/CommonHTML"],
    TeX: {
      extensions: [
        "AMSmath.js",
        "AMSsymbols.js",
        "noErrors.js",
        "noUndefined.js",
      ]
    }
  });
  </script>
  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML">
  </script>

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-SHM3SPE7F9"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-SHM3SPE7F9');
  </script>
</head>


<body>
  <div id="wrapper">
    <header>
  <div>
    <a href="/codeforces-editorials/">
    
    <h1>adam@home:~$</h1>
    </a>
    <div class="header-links">
      <a href="/codeforces-editorials/"><h2 class="header-link">Contests</h2></a>
<a href="/codeforces-editorials/problems"><h2 class="header-link">Problems</h2></a>
<a href="/codeforces-editorials/todo"><h2 class="header-link">TODO</h2></a>

    </div>
  </div>
</header>
    <div class="container">
      <section id="main_content">
        <article>
  <h2>Round 699 (Div II)</h2>
  <time datetime="2021-02-05T00:00:00+00:00" class="by-line">05 Feb 2021</time>
  <p><a href="https://codeforces.com/contest/1481">Codeforces Round #699 (Div. 2)</a></p>

<div class="alert alert-primary" role="alert">
  
  <tiny>1481</tiny>A

  
  <a href="/codeforces-editorials/problems/1481a/">
    Space Navigation
  </a>
  <a href="https://codeforces.com/contest/1481/problem/A">
  [CF]
  </a>

  <a href="https://github.com/akoprow/competetive-programming/blob/master/src/codeforces/r680-699/r699/1481a-space-navigation.kt">(Code)</a>

  <rating>R:800 <meter min="800" max="3600" value="800" /></rating>

  <labels>
  
  
    <span class="badge rounded-pill bg-warning text-dark">greedy</span>
  
    <span class="badge rounded-pill bg-warning text-dark">implementation</span>
  
    <span class="badge rounded-pill bg-warning text-dark">math</span>
  
    <span class="badge rounded-pill bg-warning text-dark">strings</span>
  
  </labels>
</div>

<p>Firstly, all the talk about reordering is a distraction as the order of instructions has no impact on the final coordinate.  Further, observe that we can easily decompose this 2D problem into two 1D problems along both axis.  Let’s denote by \(\mathcal{T}_U, \mathcal{T}_D, \mathcal{T}_L, \mathcal{T}_R\) the total number of steps that we can make in the respective direction (i.e. \(U, D, L, R\)).  The minimal coordinate we can reach along \(X\) axis is \(-\mathcal{T}_L\) and that’s by keeping all \(L\) moves and deleting all \(R\) instructions.  Similarly the maximal is \(R\).  And we can reach anything in between by deleting some more instructions from those extreme configurations.  So we can reach \([-\mathcal{T}_L, \mathcal{T}_R]\) along the \(X\)-axis and \([-\mathcal{T}_U, \mathcal{T}_D]\) along the \(Y\)-axis and we just need to check if our target lies within that rectangle.</p>

<div class="alert alert-primary" role="alert">
  
  <tiny>1481</tiny>B

  
  <a href="/codeforces-editorials/problems/1481b/">
    New Colony
  </a>
  <a href="https://codeforces.com/contest/1481/problem/B">
  [CF]
  </a>

  <a href="https://github.com/akoprow/competetive-programming/blob/master/src/codeforces/r680-699/r699/1481b-new-colony.kt">(Code)</a>

  <rating>R:1100 <meter min="800" max="3600" value="1100" /></rating>

  <labels>
  
  
    <span class="badge rounded-pill bg-warning text-dark">brute force</span>
  
    <span class="badge rounded-pill bg-warning text-dark">greedy</span>
  
    <span class="badge rounded-pill bg-warning text-dark">implementation</span>
  
  </labels>
</div>

<p>We just need to make a simple observation that if we reach a configuration where a boulder falls into the collection system then clearly all the subsequent ones will too.  And moreover since all heights are at most \(100\), this game will have at most \(100\cdot n\) steps before it’s over.  So we can just do the simulation of the boulder falling and even with the naive approach we end up with a \(O(100\cdot n^2)\) solution which is plenty good.</p>

<div class="alert alert-primary" role="alert">
  
  <tiny>1481</tiny>C

  
  <a href="/codeforces-editorials/problems/1481c/">
    Fence Painting
  </a>
  <a href="https://codeforces.com/contest/1481/problem/C">
  [CF]
  </a>

  <a href="https://github.com/akoprow/competetive-programming/blob/master/src/codeforces/r680-699/r699/1481c-fence-painting.kt">(Code)</a>

  <rating>R:1600 <meter min="800" max="3600" value="1600" /></rating>

  <labels>
  
  
    <span class="badge rounded-pill bg-warning text-dark">brute force</span>
  
    <span class="badge rounded-pill bg-warning text-dark">constructive algorithms</span>
  
    <span class="badge rounded-pill bg-warning text-dark">greedy</span>
  
    <span class="badge rounded-pill bg-warning text-dark">implementation</span>
  
  </labels>
</div>

<p>Crucial observation here is that the last painter is the key, as whatever he paints will have to remain of color \(c_m\).  Let’s find \(i\) such that \(b_i = c_m\).  We have three options:</p>

<ul>
  <li>\(a_i \neq b_i\), we prefer this option over the next one, as in this way the work of the last painter is useful and we might have to make use of that in order to get to the solution,</li>
  <li>\(a_i = b_i\), in which case his work wasn’t necessarily required but we end up with the right color and clearly we did not have the need for painting anything in this color (if we did, we’d have fallen into the previous case),</li>
  <li>there is no \(i\) such that \(b_i = c_m\), in which case clearly there is no solution as the painter has to paint and some plank will end up with that color.</li>
</ul>

<p>If we fell into one of the first two cases then all that remains is for the remaining painters to greedily one by one:</p>

<ul>
  <li>if the painter paints in a color that we need for some plank then let’s use him there,</li>
  <li>otherwise let’s make him paint plank \(i\), as the last painter will repaint in anyway.</li>
</ul>

<p>Now we only need to check if we repainted all the planks that needed repainting and we’re done.</p>

<p>My solution during the live round was somewhat more complicated than that.</p>

<div class="alert alert-primary" role="alert">
  
  <tiny>1481</tiny>D

  
  <a href="/codeforces-editorials/problems/1481d/">
    AB Graph
  </a>
  <a href="https://codeforces.com/contest/1481/problem/D">
  [CF]
  </a>

  <a href="https://github.com/akoprow/competetive-programming/blob/master/src/codeforces/r680-699/r699/1481d-ab-graph.kt">(Code)</a>

  <rating>R:2000 <meter min="800" max="3600" value="2000" /></rating>

  <labels>
  
  
    <span class="badge rounded-pill bg-warning text-dark">constructive algorithms</span>
  
    <span class="badge rounded-pill bg-warning text-dark">graphs</span>
  
    <span class="badge rounded-pill bg-warning text-dark">greedy</span>
  
    <span class="badge rounded-pill bg-warning text-dark">implementation</span>
  
    <span class="badge rounded-pill bg-warning text-dark">strings</span>
  
  </labels>
</div>

<p>Nice one!  Firstly, let’s get rid of a trivial case: if we have two nodes, say \(u\) and \(v\), connected with the same letter in both directions, i.e. \(u \stackrel{a}{\leftrightarrow} v\) or \(u \stackrel{b}{\leftrightarrow} v\), then we can just follow this cycle for \(m\) steps and get a single repeated letter, which is trivially a palindrome.</p>

<p>Another easy case is when \(m\) is odd.  Then we can just pick any two nodes and go in the loop between for the required number of steps and no matter what letters on them, we’ll get a palindrome.</p>

<p>So what remains is an even \(m\) with a graph with no trivial same-letter loop.  Note that in this case we can have at most one node that is connected to everything else by \(a\) (if there were two we’d have an \(a\)-cycle between them) and at most one node that is connected to everything else by \(b\); all the other nodes must have at least one \(a\) and at least one \(b\) connection.  Let’s pick such a node.  Node that it’s impossible only if our graph has only 2 nodes  \(u \leftrightarrow v\) with two different letters, in which case clearly we cannot construct an even length palindrome.  Otherwise, we have a situation like this:</p>

\[x \underset{a}{\overset{b}{\leftrightarrows}} y \underset{a}{\overset{b}{\leftrightarrows}} z\]

<p>The crucial observation is that we can always make an even length palindrome in this configuration.  The winning combo is: \(y \to^a z \to^b y \to^b x \to^a y \to \ldots\), only depending on whether \(\frac{m}{2}\) is even or odd, we need to start at second or first element, respectively.</p>

<div class="alert alert-primary" role="alert">
  
  <tiny>1481</tiny>E

  
  <a href="/codeforces-editorials/problems/1481e/">
    Sorting Books
  </a>
  <a href="https://codeforces.com/contest/1481/problem/E">
  [CF]
  </a>

  

  <rating>R:2500 <meter min="800" max="3600" value="2500" /></rating>

  <labels>
  
  
    <span class="badge rounded-pill bg-warning text-dark">data structures</span>
  
    <span class="badge rounded-pill bg-warning text-dark">dp</span>
  
  </labels>
</div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>TODO
</code></pre></div></div>

<div class="alert alert-primary" role="alert">
  
  <tiny>1481</tiny>F

  
  <a href="/codeforces-editorials/problems/1481f/">
    AB Tree
  </a>
  <a href="https://codeforces.com/contest/1481/problem/F">
  [CF]
  </a>

  

  <rating>R:3100 <meter min="800" max="3600" value="3100" /></rating>

  <labels>
  
  
    <span class="badge rounded-pill bg-warning text-dark">dp</span>
  
    <span class="badge rounded-pill bg-warning text-dark">trees</span>
  
  </labels>
</div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>TODO
</code></pre></div></div>

<hr />

<object data="notes/R-699.pdf" width="1000" height="1000" type="application/pdf" />


</article>
      </section>
    </div>
  </div>

   <footer>
  <a href="https://creativecommons.org/licenses/by-nc/3.0/deed.en_US">
    <span>
        <b>Adam Koprowski</b>
    </span>
    
    <span>© 2021</span>
  </a>
</footer>

  
</body>

</html>
