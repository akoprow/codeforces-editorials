<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no"">
  <meta name="generator" content="Jekyll">

  <title>Round 689 (Div II)</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>

  <link rel="stylesheet" href="/codeforces-editorials/css/main.css">

  <link href="/codeforces-editorials/atom.xml" type="application/atom+xml" rel="alternate" title="ATOM Feed" /> <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Round 689 (Div II) | Codeforces editorials</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Round 689 (Div II)" />
<meta name="author" content="Adam Koprowski" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Codeforces Round #689 (Div. 2, based on Zed Code Competition)" />
<meta property="og:description" content="Codeforces Round #689 (Div. 2, based on Zed Code Competition)" />
<meta property="og:site_name" content="Codeforces editorials" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-12-11T00:00:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Round 689 (Div II)" />
<script type="application/ld+json">
{"@type":"BlogPosting","headline":"Round 689 (Div II)","dateModified":"2020-12-11T00:00:00+00:00","url":"/codeforces-editorials/R-689","datePublished":"2020-12-11T00:00:00+00:00","mainEntityOfPage":{"@type":"WebPage","@id":"/codeforces-editorials/R-689"},"author":{"@type":"Person","name":"Adam Koprowski"},"description":"Codeforces Round #689 (Div. 2, based on Zed Code Competition)","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]},
    extensions: [
      "MathMenu.js",
      "MathZoom.js",
      "AssistiveMML.js",
      "a11y/accessibility-menu.js"
    ],
    jax: ["input/TeX", "output/CommonHTML"],
    TeX: {
      extensions: [
        "AMSmath.js",
        "AMSsymbols.js",
        "noErrors.js",
        "noUndefined.js",
      ]
    }
  });
  </script>
  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML">
  </script>

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-SHM3SPE7F9"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-SHM3SPE7F9');
  </script>
</head>


<body>
  <div id="wrapper">
    <header>
  <div>
    <a href="/codeforces-editorials/">
    
    <h1>adam@home:~$</h1>
    </a>
    <div class="header-links">
      <a href="/codeforces-editorials/"><h2 class="header-link">Contests</h2></a>
<a href="/codeforces-editorials/problems"><h2 class="header-link">Problems</h2></a>

    </div>
  </div>
</header>
    <div class="container">
      <section id="main_content">
        <article>
  <h2>Round 689 (Div II)</h2>
  <time datetime="2020-12-11T00:00:00+00:00" class="by-line">11 Dec 2020</time>
  <p><a href="https://codeforces.com/contest/1461">Codeforces Round #689 (Div. 2, based on Zed Code Competition)</a></p>

<div class="alert alert-primary" role="alert">
  
  <tiny>1461</tiny>A

  
  <a href="/codeforces-editorials/problems/1461a/">
    String Generation
  </a>
  <a href="https://codeforces.com/contest/1461/problem/A">
  [CF]
  </a>

  <a href="https://github.com/akoprow/competetive-programming/blob/master/src/codeforces/r680-699/r689/1461a-string-generation.kt">(Code)</a>

  <rating>R:800 <meter min="800" max="3600" value="800" /></rating>

  <labels>
  
  
    <span class="badge rounded-pill bg-warning text-dark">constructive algorithms</span>
  
    <span class="badge rounded-pill bg-warning text-dark">greedy</span>
  
  </labels>
</div>

<p>Simply generate \(abc\) repeated as much as needed, which does not have any palindromes in it (other than the degenerated 1-character case).</p>

<div class="alert alert-primary" role="alert">
  
  <tiny>1461</tiny>B

  
  <a href="/codeforces-editorials/problems/1461b/">
    Find the Spruce
  </a>
  <a href="https://codeforces.com/contest/1461/problem/B">
  [CF]
  </a>

  <a href="https://github.com/akoprow/competetive-programming/blob/master/src/codeforces/r680-699/r689/1461b-find-the-spruce.kt">(Code)</a>

  <rating>R:1400 <meter min="800" max="3600" value="1400" /></rating>

  <labels>
  
  
    <span class="badge rounded-pill bg-warning text-dark">brute force</span>
  
    <span class="badge rounded-pill bg-warning text-dark">dp</span>
  
  </labels>
</div>

<p>Let’s iterate over spruce sizes.  For size \(1\) we just count cells with “\(*\)”.  For \(i &gt; 1\) we have a spruce of size \(i\) at cells \((r, c)\) iff:</p>

<ul>
  <li>we have spruces of size \(i\) at all off: \((r, c-1), (r, c), (r, c+1)\) and</li>
  <li>there’s a “\(*\)” at \((r-i, c)\).</li>
</ul>

<div class="alert alert-primary" role="alert">
  
  <tiny>1461</tiny>C

  
  <a href="/codeforces-editorials/problems/1461c/">
    Random Events
  </a>
  <a href="https://codeforces.com/contest/1461/problem/C">
  [CF]
  </a>

  <a href="https://github.com/akoprow/competetive-programming/blob/master/src/codeforces/r680-699/r689/1461c-random-events.kt">(Code)</a>

  <rating>R:1500 <meter min="800" max="3600" value="1500" /></rating>

  <labels>
  
  
    <span class="badge rounded-pill bg-warning text-dark">probabilities</span>
  
  </labels>
</div>

<p>Let’s find the longest suffix which already has its numbers in the right place, let’s say the suffix is \(p, p+1, \ldots n\).  This means that any experiment with \(r_i \ge p\) will do.  We can easily compute the probability that all such experiments will fail: \(\prod_{j, r_j \ge p} (1 - r_i)\) and so the answer we’re looking for is \(1\) minus that product.</p>

<div class="alert alert-primary" role="alert">
  
  <tiny>1461</tiny>D

  
  <a href="/codeforces-editorials/problems/1461d/">
    Divide and Summarize
  </a>
  <a href="https://codeforces.com/contest/1461/problem/D">
  [CF]
  </a>

  <a href="https://github.com/akoprow/competetive-programming/blob/master/src/codeforces/r680-699/r689/1461d-divide-and-summarize.kt">(Code)</a>

  <rating>R:1600 <meter min="800" max="3600" value="1600" /></rating>

  <labels>
  
  
    <span class="badge rounded-pill bg-warning text-dark">divide and conquer</span>
  
    <span class="badge rounded-pill bg-warning text-dark">implementation</span>
  
    <span class="badge rounded-pill bg-warning text-dark">sortings</span>
  
  </labels>
</div>

<p>Observe that the result of a slicing operation does not depend on the order so we start by sorting the input array.</p>

<p>Then we will precalculate all \(i\) such that it’s possible to pass the \(i\)‘th prettiness test.  For that we explore all possible slicings.  A state is a pair \([l, r]\) describing the section of the array that we are considering right now.  We get its sum cheaply by having prefix sums on the original array and add that value to our set of reachable \(i\)’s.  Then we compute \(mid\), just by looking at first and last elements in the segment.  Finally we find the slicing point using binary search and continue recursively with at most two intervals that we generated.</p>

<p>Once we have this set answering the queries is trivial, we just check if the queried \(i\) belongs to out set.</p>

<div class="alert alert-primary" role="alert">
  
  <tiny>1461</tiny>E

  
  <a href="/codeforces-editorials/problems/1461e/">
    Water Level
  </a>
  <a href="https://codeforces.com/contest/1461/problem/E">
  [CF]
  </a>

  <a href="https://github.com/akoprow/competetive-programming/blob/master/src/codeforces/r680-699/r689/1461e-water-level.kt">(Code)</a>

  <rating>R:2200 <meter min="800" max="3600" value="2200" /></rating>

  <labels>
  
  
    <span class="badge rounded-pill bg-warning text-dark">brute force</span>
  
    <span class="badge rounded-pill bg-warning text-dark">dfs and similar</span>
  
    <span class="badge rounded-pill bg-warning text-dark">dp</span>
  
    <span class="badge rounded-pill bg-warning text-dark">graphs</span>
  
    <span class="badge rounded-pill bg-warning text-dark">math</span>
  
  </labels>
</div>

<p>We have two cases.</p>

<p>Easier one is \(x &gt;= y\).  This means that we’ll be constantly loosing water, by \(x-y\) each day, except possibly the first one when it might be \(x\) if adding \(y\) would take us over \(r\).  All we need to do is check if we can last \(t\) days.  Careful with overflows!</p>

<p>Now if \(y &gt; x\) then we can refill lost water each day and the only question is whether we can stay within \([l, r]\).  We check iteratively, in each step going as many days as we can without refill and only then refilling and continuing.</p>

<p>Just doing so would be too slow given very high limits.  However, observe that if we reach a water level that we’ve seen in earlier iteration that means we can loop it and the answer is definitely “YES”.  So we keep track of seen levels.  Notice further that those seen configuration are bound by \(x\) as each configuration will have a different value modulo \(x\).</p>

<div class="alert alert-primary" role="alert">
  
  <tiny>1461</tiny>F

  
  <a href="/codeforces-editorials/problems/1461f/">
    Mathematical Expression
  </a>
  <a href="https://codeforces.com/contest/1461/problem/F">
  [CF]
  </a>

  

  <rating>R:2700 <meter min="800" max="3600" value="2700" /></rating>

  <labels>
  
  
    <span class="badge rounded-pill bg-warning text-dark">constructive algorithms</span>
  
    <span class="badge rounded-pill bg-warning text-dark">dp</span>
  
    <span class="badge rounded-pill bg-warning text-dark">greedy</span>
  
  </labels>
</div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>TODO
</code></pre></div></div>

<hr />

<object data="notes/R-689.pdf" width="1000" height="1000" type="application/pdf" />


</article>
      </section>
    </div>
  </div>

   <footer>
  <a href="https://creativecommons.org/licenses/by-nc/3.0/deed.en_US">
    <span>
        <b>Adam Koprowski</b>
    </span>
    
    <span>© 2021</span>
  </a>
</footer>

  
</body>

</html>
